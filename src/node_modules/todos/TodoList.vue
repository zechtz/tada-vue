<template>
  <ul>
    <TodoItem
      v-for="todo in todos"
      :key="todo.id"
      :todo="todo"
      @onUpdateStatus="onUpdateStatus"
      @onDeleteTodo="onDeleteTodo"
      @onUpdateTodo="onUpdateTodo"
    />

  </ul>
</template>

<script>
import { defineComponent } from '@vue/composition-api'
import TodoItem from "todos/TodoItem";

export default defineComponent({
  props: {
    todos: {
      type: Array,
      required: true,
      default: [],
    },
  },

  components: {
    TodoItem,
  },

  setup(props, context){
    const onUpdateStatus = (id) => {
      context.emit('changeStatus', id)
    }

    const onDeleteTodo = (todo) => {
      context.emit('deleteTodo', todo)
    }

    const onUpdateTodo = (todo) => {
      context.emit('updateTodo', todo);
    }

    return {
      onUpdateStatus,
      onDeleteTodo,
      onUpdateTodo,
    }
  }
})
</script>

<style scoped>
ul {
  width: 900px;
}
</style>
